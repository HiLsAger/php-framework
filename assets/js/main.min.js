var header = $("header"),
  scrollPrev = 0;

// Функция, которая будет выполняться при изменении размера окна
function handleScroll() {
  var e = $(window).scrollTop();
  if (window.matchMedia("(min-width: 991px)").matches) {
    // Выполняйте скрипт только при ширине окна больше или равной 991px
    if (e > header.height() + header.height() + 50 && e > scrollPrev) {
      header.addClass("out");
    } else {
      header.removeClass("out");
    }
    scrollPrev = e;
  } else {
    // Если ширина окна меньше 991px, уберите класс "out" (или выполните другие действия)
    header.removeClass("out");
  }
}

// Вызываем функцию handleScroll() при загрузке страницы и при изменении размера окна
$(document).ready(function() {
  handleScroll(); // Вызываем при загрузке страницы
  $(window).on("scroll resize", handleScroll); // Вызываем при скролле и изменении размера окна
});


var isMenuOpen = false;

$('.burger-menu').click(function () {
  $(this).toggleClass('active');
  $('.mobile-menu-block').fadeToggle(200);
  isMenuOpen = !isMenuOpen;
  if (isMenuOpen) {
    $('body').addClass('overflow-hidden');
  } else {
    $('body').removeClass('overflow-hidden');
  }
});
var onloadCallback = function () {
  var sitekey = '6Lf-xGwnAAAAAD63zsl-gVshnRSwWmuPqIcaQcZk';
  if ($('#recaptcha_1').length) {
    grecaptcha.render('recaptcha_1', { sitekey: sitekey });
  }
  if ($('#recaptcha_2').length) {
    grecaptcha.render('recaptcha_2', { sitekey: sitekey });
  }
};
$(document).ready(function () {
  $('.phone-mask')
    .on('input', function (t) {
      let a = $(this)
        .val()

        .replace(/\D/g, '')

        .match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);

      $(this).val(
        a[2]
          ? "+7 (" +
              a[2] +
              ") " +
              (a[3] ? a[3] : "") +
              (a[4] ? "-" + a[4] : "") +
              (a[5] ? "-" + a[5] : "")
          : a[1]
      );
    })

    .on('keydown', function (t) {
      if (8 === t.keyCode) {
        let a = t.target.selectionStart,
          l = $(this).val();

        if (" " === l[a - 1]) {
          t.preventDefault();

          let e = l.slice(0, a - 3) + l.slice(a);

          $(this).val(e), t.target.setSelectionRange(a - 3, a - 3);
        }
      }
    });
});
$('.modal-btn').click(function () {
  $('#modal-overlay').fadeIn(200);
  $('body').addClass('overflow-hidden');
});
$('.cross').click(function () {
  $(this).parent().parent().parent().parent().parent().parent().fadeOut(200);
  $('body').removeClass('overflow-hidden');
});
$(document).mouseup(function (t) {
  var modal = $("#modal-overlay");
  var form = modal.find(".ajax-form");
  if (modal.is(t.target) ||
      form.is(t.target) ||
      form.has(t.target).length !== 0) {
    return;
  }
  modal.fadeOut(200);
  $("body").removeClass("overflow-hidden");
});

$(document).ready(function(){
  $("#zipper .see-all-zipper").click(function(){
      var color = $(this).data("color"); // Получаем цвет из атрибута data-color этой кнопки
      $.ajax({
          url: "includes/load-more-zipper.php",
          method: "POST",
          data: { color: color },
          success: function(result){
              $(this).parent().before(result);  // добавляем изображения перед этой кнопкой
              $(this).remove();  // удаляем эту кнопку после загрузки изображений
          }.bind(this) // Привязываем this к текущей кнопке
      });
  });
});
$(document).ready(function() {
  // При клике на кнопку выбора цвета
  $("#zipper .color-button-zipper").click(function() {
      // Удаляем класс "active" у всех кнопок выбора цвета
      $("#semi-golf .color-button-zipper").removeClass("active");
      
      // Добавляем класс "active" к выбранной кнопке
      $(this).addClass("active");
      
      // Получаем цвет из атрибута data-color
      var color = $(this).data("color");
      
      // Скрываем все блоки с фотографиями
      $("#zipper .image-block").hide();
      
      // Отображаем блок с фотографиями выбранного цвета
      $("#" + color + "-images").show();
  });
});

$(document).ready(function(){
  $("#golf .see-all-golf").click(function(){
      var color = $(this).data("color"); // Получаем цвет из атрибута data-color этой кнопки
      $.ajax({
          url: "includes/load-more-golf.php",
          method: "POST",
          data: { color: color },
          success: function(result){
              $(this).parent().before(result);  // добавляем изображения перед этой кнопкой
              $(this).remove();  // удаляем эту кнопку после загрузки изображений
          }.bind(this) // Привязываем this к текущей кнопке
      });
  });
});
$(document).ready(function() {
  // При клике на кнопку выбора цвета
  $("#golf .color-button-golf").click(function() {
      // Удаляем класс "active" у всех кнопок выбора цвета
      $("#golf .color-button-golf").removeClass("active");
      
      // Добавляем класс "active" к выбранной кнопке
      $(this).addClass("active");
      
      // Получаем цвет из атрибута data-color
      var color = $(this).data("color");
      
      // Скрываем все блоки с фотографиями
      $("#golf .image-block").hide();
      
      // Отображаем блок с фотографиями выбранного цвета
      $("#" + color + "-images").show();
  });
});

$(document).ready(function(){
  $("#semi-golf .see-all-semi-golf").click(function(){
      var color = $(this).data("color"); // Получаем цвет из атрибута data-color этой кнопки
      $.ajax({
          url: "includes/load-more-semi-golf.php",
          method: "POST",
          data: { color: color },
          success: function(result){
              $(this).parent().before(result);  // добавляем изображения перед этой кнопкой
              $(this).remove();  // удаляем эту кнопку после загрузки изображений
          }.bind(this) // Привязываем this к текущей кнопке
      });
  });
});
$(document).ready(function() {
  // При клике на кнопку выбора цвета
  $("#semi-golf .color-button-semi-golf").click(function() {
      // Удаляем класс "active" у всех кнопок выбора цвета
      $("#semi-golf .color-button-semi-golf").removeClass("active");
      
      // Добавляем класс "active" к выбранной кнопке
      $(this).addClass("active");
      
      // Получаем цвет из атрибута data-color
      var color = $(this).data("color");
      
      // Скрываем все блоки с фотографиями
      $("#semi-golf .image-block").hide();
      
      // Отображаем блок с фотографиями выбранного цвета
      $("#" + color + "-images").show();
  });
});


